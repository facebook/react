// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`ReactDebugFiberPerf captures all lifecycles 1`] = `
"// Mount
âš› (React Tree Reconciliation)
  âš› AllLifecycles [mount]
    âš› AllLifecycles.componentWillMount
    âš› AllLifecycles.getChildContext
  âš› (Committing Changes)
    âš› (Committing Host Effects: 1 Total)
    âš› (Calling Lifecycle Methods: 1 Total)
      âš› AllLifecycles.componentDidMount

// Update
âš› (React Tree Reconciliation)
  âš› AllLifecycles [update]
    âš› AllLifecycles.componentWillReceiveProps
    âš› AllLifecycles.shouldComponentUpdate
    âš› AllLifecycles.componentWillUpdate
    âš› AllLifecycles.getChildContext
  âš› (Committing Changes)
    âš› (Committing Host Effects: 2 Total)
    âš› (Calling Lifecycle Methods: 2 Total)
      âš› AllLifecycles.componentDidUpdate

// Unmount
âš› (React Tree Reconciliation)
  âš› (Committing Changes)
    âš› (Committing Host Effects: 1 Total)
      âš› AllLifecycles.componentWillUnmount
    âš› (Calling Lifecycle Methods: 0 Total)
"
`;

exports[`ReactDebugFiberPerf deduplicates lifecycle names during commit to reduce overhead 1`] = `
"// The commit phase should mention A and B just once
âš› (React Tree Reconciliation)
  âš› Parent [update]
    âš› A [update]
    âš› B [update]
    âš› A [update]
    âš› B [update]
  âš› (Committing Changes)
    âš› (Committing Host Effects: 9 Total)
    âš› (Calling Lifecycle Methods: 9 Total)
      âš› A.componentDidUpdate
      âš› B.componentDidUpdate

// Because of deduplication, we don't know B was cascading,
// but we should still see the warning for the commit phase.
ðŸ›‘ (React Tree Reconciliation) Warning: There were cascading updates
  âš› Parent [update]
    âš› A [update]
    âš› B [update]
    âš› A [update]
    âš› B [update]
  ðŸ›‘ (Committing Changes) Warning: Lifecycle hook scheduled a cascading update
    âš› (Committing Host Effects: 9 Total)
    âš› (Calling Lifecycle Methods: 9 Total)
      âš› A.componentDidUpdate
      âš› B.componentDidUpdate
  âš› B [update]
  ðŸ›‘ (Committing Changes) Warning: Caused by a cascading update in earlier commit
    âš› (Committing Host Effects: 3 Total)
    âš› (Calling Lifecycle Methods: 3 Total)
      âš› B.componentDidUpdate
"
`;

exports[`ReactDebugFiberPerf does not treat setState from cWM or cWRP as cascading 1`] = `
"// Should not print a warning
âš› (React Tree Reconciliation)
  âš› Parent [mount]
    âš› NotCascading [mount]
      âš› NotCascading.componentWillMount
  âš› (Committing Changes)
    âš› (Committing Host Effects: 1 Total)
    âš› (Calling Lifecycle Methods: 0 Total)

// Should not print a warning
âš› (React Tree Reconciliation)
  âš› Parent [update]
    âš› NotCascading [update]
      âš› NotCascading.componentWillReceiveProps
  âš› (Committing Changes)
    âš› (Committing Host Effects: 2 Total)
    âš› (Calling Lifecycle Methods: 2 Total)
"
`;

exports[`ReactDebugFiberPerf measures a simple reconciliation 1`] = `
"// Mount
âš› (React Tree Reconciliation)
  âš› Parent [mount]
    âš› Child [mount]
  âš› (Committing Changes)
    âš› (Committing Host Effects: 1 Total)
    âš› (Calling Lifecycle Methods: 0 Total)

// Update
âš› (React Tree Reconciliation)
  âš› Parent [update]
    âš› Child [update]
  âš› (Committing Changes)
    âš› (Committing Host Effects: 2 Total)
    âš› (Calling Lifecycle Methods: 2 Total)

// Unmount
âš› (React Tree Reconciliation)
  âš› (Committing Changes)
    âš› (Committing Host Effects: 1 Total)
    âš› (Calling Lifecycle Methods: 0 Total)
"
`;

exports[`ReactDebugFiberPerf measures deferred work in chunks 1`] = `
"// Start mounting Parent and A
âš› (React Tree Reconciliation)
  âš› Parent [mount]
    âš› A [mount]
      âš› Child [mount]

// Mount B just a little (but not enough to memoize)
âš› (React Tree Reconciliation)
  âš› Parent [mount]
    âš› B [mount]

// Complete B and Parent
âš› (React Tree Reconciliation)
  âš› Parent [mount]
    âš› B [mount]
      âš› Child [mount]
  âš› (Committing Changes)
    âš› (Committing Host Effects: 1 Total)
    âš› (Calling Lifecycle Methods: 0 Total)
"
`;

exports[`ReactDebugFiberPerf measures deprioritized work 1`] = `
"// Flush the parent
âš› (React Tree Reconciliation)
  âš› Parent [mount]
  âš› (Committing Changes)
    âš› (Committing Host Effects: 1 Total)
    âš› (Calling Lifecycle Methods: 0 Total)

// Flush the child
âš› (React Tree Reconciliation)
  âš› Child [mount]
  âš› (Committing Changes)
    âš› (Committing Host Effects: 3 Total)
    âš› (Calling Lifecycle Methods: 2 Total)
"
`;

exports[`ReactDebugFiberPerf recovers from caught errors 1`] = `
"// Stop on Baddie and restart from Boundary
ðŸ›‘ (React Tree Reconciliation) Warning: There were cascading updates
  âš› Parent [mount]
    âš› Boundary [mount]
      âš› Parent [mount]
        âš› Baddie [mount]
  ðŸ›‘ (Committing Changes) Warning: Lifecycle hook scheduled a cascading update
    âš› (Committing Host Effects: 2 Total)
    âš› (Calling Lifecycle Methods: 1 Total)
  âš› Boundary [update]
    âš› ErrorReport [mount]
  ðŸ›‘ (Committing Changes) Warning: Caused by a cascading update in earlier commit
    âš› (Committing Host Effects: 2 Total)
    âš› (Calling Lifecycle Methods: 1 Total)
"
`;

exports[`ReactDebugFiberPerf recovers from fatal errors 1`] = `
"// Will fatal
âš› (React Tree Reconciliation)
  âš› Parent [mount]
    âš› Baddie [mount]
  âš› (Committing Changes)
    âš› (Committing Host Effects: 1 Total)
    âš› (Calling Lifecycle Methods: 1 Total)

// Will reconcile from a clean state
âš› (React Tree Reconciliation)
  âš› Parent [mount]
    âš› Child [mount]
  âš› (Committing Changes)
    âš› (Committing Host Effects: 1 Total)
    âš› (Calling Lifecycle Methods: 0 Total)
"
`;

exports[`ReactDebugFiberPerf skips parents during setState 1`] = `
"// Should include just A and B, no Parents
âš› (React Tree Reconciliation)
  âš› A [update]
  âš› B [update]
  âš› (Committing Changes)
    âš› (Committing Host Effects: 6 Total)
    âš› (Calling Lifecycle Methods: 6 Total)
"
`;

exports[`ReactDebugFiberPerf supports coroutines 1`] = `
"âš› (React Tree Reconciliation)
  âš› App [mount]
    âš› CoParent [mount]
      âš› HandleYields [mount]
        âš› Indirection [mount]
          âš› CoChild [mount]
          âš› CoChild [mount]
      âš› Continuation [mount]
      âš› Continuation [mount]
  âš› (Committing Changes)
    âš› (Committing Host Effects: 3 Total)
    âš› (Calling Lifecycle Methods: 0 Total)
"
`;

exports[`ReactDebugFiberPerf supports portals 1`] = `
"âš› (React Tree Reconciliation)
  âš› Parent [mount]
    âš› Child [mount]
  âš› (Committing Changes)
    âš› (Committing Host Effects: 3 Total)
    âš› (Calling Lifecycle Methods: 1 Total)
"
`;

exports[`ReactDebugFiberPerf warns on cascading renders from setState 1`] = `
"// Should print a warning
ðŸ›‘ (React Tree Reconciliation) Warning: There were cascading updates
  âš› Parent [mount]
    âš› Cascading [mount]
  ðŸ›‘ (Committing Changes) Warning: Lifecycle hook scheduled a cascading update
    âš› (Committing Host Effects: 2 Total)
    âš› (Calling Lifecycle Methods: 1 Total)
      ðŸ›‘ Cascading.componentDidMount Warning: Scheduled a cascading update
  âš› Cascading [update]
  ðŸ›‘ (Committing Changes) Warning: Caused by a cascading update in earlier commit
    âš› (Committing Host Effects: 2 Total)
    âš› (Calling Lifecycle Methods: 2 Total)
"
`;

exports[`ReactDebugFiberPerf warns on cascading renders from top-level render 1`] = `
"// Rendering the first root
ðŸ›‘ (React Tree Reconciliation) Warning: There were cascading updates
  âš› Cascading [mount]
  ðŸ›‘ (Committing Changes) Warning: Lifecycle hook scheduled a cascading update
    âš› (Committing Host Effects: 1 Total)
    âš› (Calling Lifecycle Methods: 1 Total)
      ðŸ›‘ Cascading.componentDidMount Warning: Scheduled a cascading update
        // Scheduling another root from componentDidMount
  âš› Child [mount]
  ðŸ›‘ (Committing Changes) Warning: Caused by a cascading update in earlier commit
    âš› (Committing Host Effects: 1 Total)
    âš› (Calling Lifecycle Methods: 0 Total)
"
`;
